<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Time Tracker</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/time_tracker.css') }}?v=1001" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <!-- HEADER: left=back | center=title | right=theme -->
  <header class="tt-header">
    <button id="backBtn" class="icon-btn back" aria-label="Back">
      <i class="fas fa-arrow-left"></i>
    </button>
    <h1 class="tt-title">time tracker</h1>
    <button id="themeToggle" class="icon-btn theme" aria-label="Toggle theme">
      <i class="fas fa-moon"></i>
    </button>
  </header>

  <main class="tt-main">
    <!-- Session Timer -->
    <div class="session-timer-container">
      <span>Session Time:</span>
      <span id="session-timer-display">00:00:00</span>
    </div>

    <!-- Stats row -->
    <section class="stats-row" aria-label="Time Statistics">
      <div class="stat-card">
        <div id="today-hrs" class="stat-value">0.0</div>
        <div class="stat-label">Today (hrs)</div>
      </div>
      <div class="stat-card">
        <div id="week-hrs" class="stat-value">0.0</div>
        <div class="stat-label">This Week (hrs)</div>
      </div>
      <!-- Clicking opens calendar -->
      <div class="stat-card" id="monthStatsBtn" title="Click to view monthly calendar">
        <div id="month-hrs" class="stat-value">0.0</div>
        <div class="stat-label">This Month (hrs)</div>
      </div>
    </section>

    <!-- Instagram-style Weekly Graph -->
    <div class="ig-usage-graph-container">
      <div id="daily-avg-display" style="font-size:2.2rem;font-weight:700;margin-bottom:4px;">0h 0m</div>
      <div style="font-size:1rem;font-weight:600;margin-bottom:8px;">Daily average</div>
      <p style="font-size:0.82rem;opacity:0.65;margin-bottom:18px;line-height:1.5;">
        Average time you spent per day in the last week.
      </p>
      <div class="ig-graph-body" id="instagram-graph-bars">
        <!-- Bars injected by JS -->
      </div>
    </div>

    <!-- Streak Information -->
    <div class="streak-info">
      <div class="streak-item">
        <span class="streak-label">Longest streak:</span>
        <span id="longest-streak" class="streak-value">0 days</span>
      </div>
      <div class="streak-item" style="margin-top:8px;">
        <span class="streak-label">Current streak:</span>
        <span id="current-streak" class="streak-value" style="color:#e91e8c;">0 days ğŸ”¥</span>
      </div>
    </div>
  </main>

  <!-- ===== CALENDAR MODAL ===== -->
  <div class="cal-modal-overlay" id="calModalOverlay">
    <div class="cal-modal-card" id="calModalCard">
      <button class="cal-close-btn" id="calCloseBtn" aria-label="Close calendar">&#x2715;</button>

      <!-- Month navigation -->
      <div class="cal-nav">
        <button class="cal-nav-btn" id="calPrevBtn">&#8249;</button>
        <span class="cal-month-label" id="calMonthLabel">February 2026</span>
        <button class="cal-nav-btn" id="calNextBtn">&#8250;</button>
      </div>

      <!-- Weekday headers: S M T W T F S -->
      <div class="cal-weekdays">
        <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
      </div>

      <!-- Day cells injected by JS -->
      <div class="cal-days-grid" id="calDaysGrid"></div>
    </div>
  </div>

  <div id="tooltip" class="tooltip" role="tooltip" aria-hidden="true"></div>

  <script src="{{ url_for('static', filename='js/time_tracker.js') }}?v=1001"></script>
</body>

</html>